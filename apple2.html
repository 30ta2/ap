<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="æ¯æ—¥æ‰“å¡">
<link rel="apple-touch-icon" href="image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%23222' width='192' height='192'/><text x='96' y='130' font-size='100' text-anchor='middle' fill='%23ffcc66'>âœ…</text></svg>">
<link rel="manifest" href="application/json;charset=utf-8,%7B%22name%22%3A%22%E6%AF%8F%E6%97%A5%E6%89%93%E5%8D%A1%22%2C%22short_name%22%3A%22%E6%89%93%E5%8D%A1%22%2C%22start_url%22%3A%22.%22%2C%22display%22%3A%22standalone%22%2C%22theme_color%22%3A%22%23000000%22%2C%22background_color%22%3A%22%23000000%22%2C%22icons%22%3A%5B%7B%22src%22%3A%22data%3Aimage%2Fsvg%2Bxml%2C%3Csvg xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg' viewBox%3D'0 0 192 192'%3E%3Crect fill%3D'%2523222' width%3D'192' height%3D'192'%2F%3E%3Ctext x%3D'96' y%3D'130' font-size%3D'100' text-anchor%3D'middle' fill%3D'%2523ffcc66'%3E%E2%9C%85%3C%2Ftext%3E%3C%2Fsvg%3E%22%2C%22sizes%22%3A%22192x192%22%2C%22type%22%3A%22image%2Fsvg%2Bxml%22%7D%5D%7D">
<title>æ¯æ—¥æ‰“å¡+å ±è¡¨</title>
<style>
/* CSS è¨­è¨ˆç³»çµ± - è¨­è¨ˆè®Šé‡ */
:root {
  /* é¡è‰²ç³»çµ± */
  --color-bg-primary: #000000;
  --color-bg-secondary: #111111;
  --color-bg-tertiary: #1a1a1a;
  --color-bg-card: #222222;
  --color-border: #333333;
  --color-border-active: #ffcc66;
  --color-text-primary: #ffffff;
  --color-text-secondary: #cccccc;
  --color-text-tertiary: #888888;
  --color-accent: #ffcc66;
  --color-success: lightgreen;
  --color-error: #ff6666;
  --color-warning: orange;
  
  /* é–“è·ç³»çµ± */
  --spacing-xs: 5px;
  --spacing-sm: 10px;
  --spacing-md: 15px;
  --spacing-lg: 20px;
  --spacing-xl: 30px;
  
  /* å­—é«”ç³»çµ± */
  --font-size-sm: 0.85em;
  --font-size-base: 16px;
  --font-size-md: 1.1em;
  --font-size-lg: 1.3em;
  --font-size-xl: 1.5em;
  
  /* åœ“è§’ç³»çµ± */
  --radius-sm: 5px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-full: 50%;
  
  /* é™°å½±ç³»çµ± */
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.3);
  --shadow-md: 0 4px 8px rgba(0,0,0,0.4);
  --shadow-lg: 0 8px 16px rgba(0,0,0,0.5);
  
  /* éæ¸¡æ•ˆæœ */
  --transition-fast: 0.15s ease;
  --transition-base: 0.3s ease;
  --transition-slow: 0.5s ease;
}

/* å…¨å±€æ¨£å¼ */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 900px;
  margin: 0 auto;
  padding: var(--spacing-lg);
  background: var(--color-bg-primary);
  color: var(--color-text-secondary);
  font-size: var(--font-size-base);
  line-height: 1.6;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* é ­éƒ¨æ¨£å¼ */
h2 {
  text-align: center;
  margin: var(--spacing-md) 0 var(--spacing-lg);
  color: var(--color-text-primary);
  font-size: var(--font-size-xl);
  letter-spacing: 1px;
  animation: fadeIn var(--transition-slow);
}

h3 {
  text-align: center;
  margin: var(--spacing-md) 0;
  color: var(--color-text-primary);
  font-size: var(--font-size-md);
}

/* åˆ†é æ¨™ç±¤ */
.tabs {
  display: flex;
  margin-bottom: var(--spacing-lg);
  background: var(--color-bg-secondary);
  border-radius: var(--radius-md);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.tab {
  flex: 1;
  text-align: center;
  padding: var(--spacing-md) var(--spacing-sm);
  cursor: pointer;
  border-bottom: 3px solid transparent;
  color: var(--color-text-tertiary);
  font-weight: 500;
  transition: all var(--transition-base);
  user-select: none;
  position: relative;
}

.tab:hover {
  background: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
}

.tab.active {
  border-bottom-color: var(--color-accent);
  color: var(--color-text-primary);
  font-weight: bold;
  background: var(--color-bg-tertiary);
}

.tab.active::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  height: 3px;
  background: var(--color-accent);
  box-shadow: 0 0 10px var(--color-accent);
}

/* è¡¨å–®æ§ä»¶ */
select {
  width: 100%;
  padding: var(--spacing-md);
  font-size: var(--font-size-base);
  margin: var(--spacing-xs) 0 var(--spacing-md);
  background: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  transition: all var(--transition-base);
  cursor: pointer;
  appearance: none;
  background-image: url("image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23888' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 10px center;
  padding-right: 35px;
}

select:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 3px rgba(255, 204, 102, 0.1);
}

select:hover {
  border-color: var(--color-text-tertiary);
}

/* æŒ‰éˆ•æ¨£å¼ */
button {
  padding: var(--spacing-md);
  font-size: var(--font-size-base);
  margin: var(--spacing-xs);
  border-radius: var(--radius-md);
  cursor: pointer;
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  font-weight: 500;
  transition: all var(--transition-base);
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: var(--radius-full);
  background: rgba(255, 204, 102, 0.3);
  transform: translate(-50%, -50%);
  transition: width var(--transition-base), height var(--transition-base);
}

button:active::before {
  width: 300px;
  height: 300px;
}

button:hover {
  border-color: var(--color-accent);
  color: var(--color-text-primary);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

button:active {
  transform: translateY(0);
}

.button-row {
  display: flex;
  justify-content: space-between;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-lg);
}

.button-row button {
  flex: 1;
}

.copy-btn {
  display: block;
  margin: var(--spacing-sm) auto;
  width: 80%;
  max-width: 300px;
}

/* é€šçŸ¥å€åŸŸ */
#notice {
  text-align: center;
  min-height: 24px;
  margin: var(--spacing-xs) 0;
  font-weight: bold;
  font-size: var(--font-size-md);
  animation: slideDown var(--transition-base);
}

#idleTime {
  text-align: center;
  min-height: 24px;
  margin: var(--spacing-sm) 0 var(--spacing-md);
  color: var(--color-warning);
  font-weight: bold;
  font-size: var(--font-size-sm);
  padding: var(--spacing-xs);
  background: rgba(255, 165, 0, 0.1);
  border-radius: var(--radius-sm);
  animation: pulse 2s infinite;
}

/* æ­·å²è¨˜éŒ„ */
#entries {
  max-height: 350px;
  overflow-y: auto;
  list-style: none;
  padding: var(--spacing-sm);
  margin-top: var(--spacing-sm);
  background: var(--color-bg-secondary);
  border-radius: var(--radius-md);
  box-shadow: inset var(--shadow-sm);
}

#entries::-webkit-scrollbar {
  width: 6px;
}

#entries::-webkit-scrollbar-track {
  background: var(--color-bg-secondary);
}

#entries::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 3px;
}

#entries::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-tertiary);
}

#entries li {
  margin-bottom: var(--spacing-sm);
  border-bottom: 1px solid var(--color-border);
  padding: var(--spacing-sm) var(--spacing-xs) var(--spacing-xs);
  animation: fadeIn var(--transition-base);
  transition: background var(--transition-base);
  border-radius: var(--radius-sm);
}

#entries li:hover {
  background: var(--color-bg-tertiary);
}

#entries li:last-child {
  border-bottom: none;
}

/* è¡¨æ ¼æ¨£å¼ */
table {
  border-collapse: collapse;
  width: 100%;
  margin-top: var(--spacing-sm);
  background: var(--color-bg-secondary);
  border-radius: var(--radius-md);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

th, td {
  border: 1px solid var(--color-border);
  padding: var(--spacing-sm);
  text-align: center;
  transition: background var(--transition-fast);
}

th {
  background: var(--color-bg-card);
  color: var(--color-text-primary);
  font-weight: bold;
  text-transform: uppercase;
  font-size: var(--font-size-sm);
  letter-spacing: 0.5px;
}

td {
  color: var(--color-text-secondary);
}

tr:hover td {
  background: var(--color-bg-tertiary);
}

tr:last-child td {
  font-weight: bold;
  color: var(--color-accent);
}

/* æ¨™ç±¤å…§å®¹ */
.tab-content {
  display: none;
  animation: fadeIn var(--transition-base);
}

.tab-content.active {
  display: block;
}

/* å ±è¡¨è¼¸å‡º */
#reportOutput {
  max-height: 450px;
  overflow: auto;
  padding: var(--spacing-sm);
  background: var(--color-bg-secondary);
  border-radius: var(--radius-md);
  box-shadow: inset var(--shadow-sm);
}

#reportOutput::-webkit-scrollbar {
  width: 6px;
}

#reportOutput::-webkit-scrollbar-track {
  background: var(--color-bg-secondary);
}

#reportOutput::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 3px;
}

/* æ¸…ç©ºè¨˜éŒ„å€å¡Š */
.clear-button-wrapper {
  max-width: 450px;
  margin: var(--spacing-xl) auto;
  padding: 0;
}

.clear-button-wrapper button {
  width: 100%;
  padding: var(--spacing-md);
  background: var(--color-bg-tertiary);
  border: 2px solid var(--color-error);
  color: var(--color-error);
  font-weight: bold;
  border-radius: var(--radius-lg);
}

.clear-button-wrapper button:hover {
  background: var(--color-error);
  color: var(--color-text-primary);
}

#status {
  margin-top: var(--spacing-md);
  text-align: center;
  font-weight: bold;
  color: var(--color-success);
  font-size: var(--font-size-md);
}

/* å‹•ç•«æ•ˆæœ */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

/* éŸ¿æ‡‰å¼è¨­è¨ˆ */
@media (max-width: 600px) {
  :root {
    --font-size-base: 14px;
    --spacing-lg: 15px;
  }
  
  body {
    padding: var(--spacing-md);
  }
  
  .button-row {
    flex-direction: column;
  }
  
  .button-row button {
    width: 100%;
  }
  
  .copy-btn {
    width: 100%;
  }
}

@media (max-width: 400px) {
  h2 {
    font-size: var(--font-size-lg);
  }
  
  .tabs {
    font-size: var(--font-size-sm);
  }
}

/* æ·±è‰²æ¨¡å¼å¢å¼· */
@media (prefers-color-scheme: dark) {
  body {
    background: var(--color-bg-primary);
  }
}

/* iOS Safari å„ªåŒ– */
@supports (-webkit-touch-callout: none) {
  body {
    min-height: -webkit-fill-available;
  }
}
</style>
</head>
<body>

<h2>âœ… æ¯æ—¥æ‰“å¡èˆ‡å ±è¡¨</h2>

<div class="tabs">
  <div class="tab active" onclick="showTab(0)">ğŸ“Œ æ‰“å¡</div>
  <div class="tab" onclick="showTab(1)">ğŸ“Š å ±è¡¨</div>
</div>

<div id="tab0" class="tab-content active">
  <div id="notice"></div>
  <div id="idleTime"></div>

  <select id="task">
    <option>ğŸ¨ ç•«ç•«</option>
    <option>ğŸ›Œ ä¼‘æ¯</option>
    <option>ğŸ–‹ åˆºé’</option>
    <option>ğŸƒ é‹å‹•</option>
    <option>ğŸ¥ æ‹ç‰‡</option>
    <option>ğŸ“– å¾©ç›¤</option>
    <option>ğŸ› æ´—æ¾¡</option>
    <option>ğŸš åƒé£¯</option>
    <option>ğŸ§¹ æ•´ç†</option>
    <option>ğŸ’ª ç·´åŠŸ</option>
    <option>ğŸ§˜ å…§åœ¨</option>
    <option>ğŸŒ å¤–åœ¨</option>
    <option>ğŸ‘¥ å®¢æº</option>
    <option>ğŸ“ è¦åŠƒ</option>
    <option>ğŸ’° è¨˜å¸³</option>
  </select>

  <div class="button-row">
    <button onclick="startTask()">â–¶ï¸ é–‹å§‹ä»»å‹™</button>
    <button onclick="endTask()">â¹ çµæŸä»»å‹™</button>
  </div>

  <h3>ğŸ“… æ™‚é–“è¦åŠƒ</h3>
  <ul id="entries"></ul>

  <div class="clear-button-wrapper">
    <button onclick="clearAll()">ğŸ—‘ æ¸…ç©ºå…¨éƒ¨ç´€éŒ„</button>
    <p id="status"></p>
  </div>
</div>

<div id="tab1" class="tab-content">
  <button onclick="generateDailyReport()" class="copy-btn">ğŸ“… ç”Ÿæˆä»Šæ—¥å ±è¡¨</button>
  <button onclick="copyReport()" class="copy-btn">ğŸ“‹ è¤‡è£½å ±è¡¨</button>
  <h3>ä»Šæ—¥å ±è¡¨</h3>
  <div id="reportOutput"></div>
</div>

<script>
// localStorage æ•¸æ“šç®¡ç†
const STORAGE_KEY = 'taskEntries';

// åˆ†é åˆ‡æ›åŠŸèƒ½
function showTab(index) {
  const tabs = document.querySelectorAll('.tab');
  const contents = document.querySelectorAll('.tab-content');
  
  tabs.forEach((tab, i) => {
    tab.classList.toggle('active', i === index);
  });
  
  contents.forEach((content, i) => {
    content.classList.toggle('active', i === index);
  });
}

// æ‰“å¡åŠŸèƒ½è®Šé‡
let currentTask = null;
let startTime = null;

const entriesEl = document.getElementById("entries");
const noticeEl = document.getElementById("notice");
const idleEl = document.getElementById("idleTime");

// é€šçŸ¥é¡¯ç¤ºå‡½æ•¸
function showNotice(text, color = "lightgreen") {
  noticeEl.textContent = text;
  noticeEl.style.color = color;
  setTimeout(() => {
    noticeEl.textContent = "";
  }, 2000);
}

// ç²å–æ™‚æ®µå‰ç¶´ï¼ˆä¸­æ–‡ï¼‰
function getTimePeriod(date) {
  const hour = date.getHours();
  if (hour >= 0 && hour < 6) return "å‡Œæ™¨";
  if (hour >= 6 && hour < 12) return "æ—©ä¸Š";
  if (hour >= 12 && hour < 18) return "ä¸‹åˆ";
  return "æ™šä¸Š";
}

// æ ¼å¼åŒ–æ™‚é–“ç‚º 24 å°æ™‚åˆ¶ï¼Œå¸¶ä¸­æ–‡æ™‚æ®µ
function formatTime(date) {
  const period = getTimePeriod(date);
  const hours = String(date.getHours()).padStart(2, '0');
  const minutes = String(date.getMinutes()).padStart(2, '0');
  const seconds = String(date.getSeconds()).padStart(2, '0');
  return `${period} ${hours}:${minutes}:${seconds}`;
}

// æ™‚é•·æ ¼å¼åŒ–
function formatDuration(ms) {
  let sec = Math.floor(ms / 1000);
  let h = Math.floor(sec / 3600);
  let m = Math.floor((sec % 3600) / 60);
  let s = sec % 60;
  return `${h}å°æ™‚${m}åˆ†${s}ç§’`;
}

// ç²å–ä»Šæ—¥èµ·å§‹æ™‚é–“ï¼ˆ00:00:00ï¼‰
function getTodayStartTime() {
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  return today;
}

// ç²å–ä»Šæ—¥æ‰€æœ‰å®Œæˆä»»å‹™çš„ç¸½æ™‚é–“
function getTodayTotalTaskTime() {
  const data = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
  let totalMs = 0;
  
  data.forEach(entry => {
    if (entry.ms) {
      totalMs += entry.ms;
    }
  });
  
  return totalMs;
}

// å¾ localStorage è¼‰å…¥æ•¸æ“š
function loadEntries() {
  const data = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
  entriesEl.innerHTML = "";
  
  // åå‘é¡¯ç¤ºï¼ˆæœ€æ–°åœ¨ä¸Šï¼‰
  data.slice().reverse().forEach(entry => {
    const li = document.createElement("li");
    if (entry.end) {
      li.innerHTML = `${entry.task}<br>ã€€${entry.start} â†’ ${entry.end} | ${entry.duration}`;
    } else {
      li.innerHTML = `${entry.task}<br>ã€€${entry.start} â†’ (é€²è¡Œä¸­...)`;
      currentTask = entry.task;
      startTime = new Date(entry.startDate || entry.start);
    }
    entriesEl.appendChild(li);
  });
  
  updateIdleTime();
}

// é–‹å§‹ä»»å‹™
function startTask() {
  if (currentTask) {
    showNotice("è«‹å…ˆçµæŸç•¶å‰ä»»å‹™ï¼", "red");
    return;
  }
  
  currentTask = document.getElementById("task").value;
  startTime = new Date();
  
  let entries = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
  entries.push({
    task: currentTask,
    start: formatTime(startTime),
    startDate: startTime.toISOString(),
    end: null,
    duration: null,
    ms: null
  });
  
  localStorage.setItem(STORAGE_KEY, JSON.stringify(entries));
  loadEntries();
  showNotice(`â–¶ï¸ ä»»å‹™ "${currentTask}" å·²é–‹å§‹`);
}

// çµæŸä»»å‹™
function endTask() {
  if (!currentTask) {
    showNotice("å°šæœªé–‹å§‹ä»»å‹™ï¼", "red");
    return;
  }
  
  const endTime = new Date();
  const durationMs = endTime - startTime;
  
  let entries = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
  let lastEntry = entries.slice().reverse().find(e => !e.end);
  
  if (lastEntry) {
    lastEntry.end = formatTime(endTime);
    lastEntry.ms = durationMs;
    lastEntry.duration = formatDuration(durationMs);
    
    localStorage.setItem(STORAGE_KEY, JSON.stringify(entries));
    
    currentTask = null;
    startTime = null;
    loadEntries();
    showNotice(`â¹ ä»»å‹™å·²çµæŸ | æ™‚é•·ï¼š${formatDuration(durationMs)}`);
  } else {
    showNotice("æœªæ‰¾åˆ°é€²è¡Œä¸­ä»»å‹™", "red");
  }
}

// æ›´æ–°é–’ç½®æ™‚é–“ - æª”æ¡ˆæ¨¡å¼
function updateIdleTime() {
  if (currentTask) {
    idleEl.textContent = "";
    return;
  }
  
  const now = new Date();
  const startOfDay = getTodayStartTime();
  
  let idleMs = now - startOfDay;
  const totalTaskMs = getTodayTotalTaskTime();
  
  // é–’ç½®æ™‚é–“ = ä»Šæ—¥ç¶“éæ™‚é–“ - å®Œæˆçš„ä»»å‹™æ™‚é–“ï¼ˆæ”¯æŒè² æ•¸ï¼‰
  idleMs = idleMs - totalTaskMs;
  
  idleEl.textContent = `â³ é–’ç½®æ™‚é–“ï¼š${formatDuration(idleMs)}`;
}

// æ¯ç§’æ›´æ–°é–’ç½®æ™‚é–“
setInterval(updateIdleTime, 1000);

// ç”Ÿæˆä»Šæ—¥å ±è¡¨
function generateDailyReport() {
  const data = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
  
  if (!data.length) {
    alert("ç„¡ç´€éŒ„");
    return;
  }
  
  const taskMap = {};
  let totalSec = 0;
  
  data.forEach(entry => {
    if (entry.ms) {
      const task = entry.task;
      const seconds = Math.floor(entry.ms / 1000);
      taskMap[task] = (taskMap[task] || 0) + seconds;
      totalSec += seconds;
    }
  });
  
  // 24å°æ™‚åˆ¶è¨ˆç®—ï¼Œå¾ä»Šæ—¥00:00é–‹å§‹
  const startOfDay = getTodayStartTime();
  const now = new Date();
  const totalDaySeconds = Math.floor((now - startOfDay) / 1000);
  const idleSec = totalDaySeconds - totalSec;
  
  let html = "<table><tr><th>ä»»å‹™</th><th>ç´¯è¨ˆæ™‚é•·</th></tr>";
  
  for (const task in taskMap) {
    html += `<tr><td>${task}</td><td>${formatDuration(taskMap[task] * 1000)}</td></tr>`;
  }
  
  html += `<tr><td><b>ç¸½æ™‚é•·</b></td><td>${formatDuration(totalSec * 1000)}</td></tr>`;
  html += `<tr><td><b>é–’ç½®æ™‚é–“</b></td><td>${formatDuration(idleSec * 1000)}</td></tr>`;
  html += "</table>";
  
  document.getElementById("reportOutput").innerHTML = html;
  showNotice("âœ… ä»Šæ—¥å ±è¡¨å·²ç”Ÿæˆ");
}

// è¤‡è£½å ±è¡¨
function copyReport() {
  const el = document.getElementById("reportOutput");
  if (!el.innerText) {
    alert("ç„¡å ±è¡¨å¯è¤‡è£½");
    return;
  }
  
  navigator.clipboard.writeText(el.innerText)
    .then(() => {
      showNotice("âœ… å ±è¡¨å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿");
    })
    .catch(() => {
      showNotice("âŒ è¤‡è£½å¤±æ•—", "red");
    });
}

// æ¸…ç©ºå…¨éƒ¨ç´€éŒ„
function clearAll() {
  if (confirm("ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰æ‰“å¡ç´€éŒ„å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸï¼")) {
    localStorage.removeItem(STORAGE_KEY);
    document.getElementById("status").textContent = "âœ… å…¨éƒ¨ç´€éŒ„å·²æ¸…ç©º";
    setTimeout(() => {
      location.reload();
    }, 500);
  }
}

// é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
window.addEventListener('DOMContentLoaded', () => {
  loadEntries();
});

// è™•ç†é é¢å¯è¦‹æ€§è®ŠåŒ–
document.addEventListener('visibilitychange', () => {
  if (!document.hidden) {
    loadEntries();
  }
});
</script>

</body>
</html>